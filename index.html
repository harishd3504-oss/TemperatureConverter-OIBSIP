<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Animated Temperature Converter üå°Ô∏è</title>
  <style>
    :root{
      --bg1: #081229;
      --bg2: #12233a;
      --accent: #ffb86b;
      --text: #e9f0f6;
      --glass: rgba(255,255,255,0.06);
      --glass-strong: rgba(255,255,255,0.09);
    }

    /* Reset */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color:var(--text);
      background: linear-gradient(180deg,var(--bg1),var(--bg2));
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
    }

    /* Scene container */
    .scene{
      width: min(980px, 94vw);
      height: 72vh;
      max-height:760px;
      border-radius:18px;
      position:relative;
      overflow:hidden;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      box-shadow: 0 12px 40px rgba(4,8,20,0.6);
      display:grid;
      grid-template-columns: 420px 1fr;
    }

    /* Left card - controls */
    .card{
      padding:28px;
      backdrop-filter: blur(8px);
      background: linear-gradient(180deg,var(--glass), transparent);
      border-right: 1px solid rgba(255,255,255,0.03);
      display:flex;
      flex-direction:column;
      gap:18px;
    }

    h1{
      font-size:20px;
      margin:0;
      display:flex;
      gap:10px;
      align-items:center;
      font-weight:600;
    }
    .sub {color:rgba(255,255,255,0.7); font-size:13px}

    .inputs{
      display:grid;
      gap:12px;
      margin-top:6px;
    }

    .row{display:flex;gap:10px}
    .field{
      flex:1;
      display:flex;
      flex-direction:column;
      gap:6px;
    }
    label{font-size:12px;color:rgba(255,255,255,0.75)}
    input[type="number"], select{
      padding:10px 12px;
      border-radius:10px;
      background: rgba(255,255,255,0.03);
      border:1px solid rgba(255,255,255,0.04);
      color:var(--text);
      outline:none;
      font-size:14px;
    }
    input[type="number"]:focus, select:focus{
      box-shadow:0 6px 18px rgba(0,0,0,0.45), 0 0 0 4px rgba(255,184,107,0.06);
      border-color: rgba(255,184,107,0.25);
    }

    .controls {
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:space-between;
      margin-top:6px;
    }

    /* Slider */
    .thermo-wrap{
      display:flex;
      align-items:center;
      gap:12px;
    }
    .slider {
      -webkit-appearance:none;
      appearance:none;
      height:10px;
      width:100%;
      background: linear-gradient(90deg,var(--accent), #6ad6ff);
      border-radius:999px;
      outline:none;
      box-shadow: inset 0 -2px 6px rgba(0,0,0,0.35);
    }
    .slider::-webkit-slider-thumb{
      -webkit-appearance:none;
      appearance:none;
      width:26px;height:26px;border-radius:50%;
      background:rgba(255,255,255,0.95);
      box-shadow:0 4px 12px rgba(0,0,0,0.4);
      border:4px solid rgba(255,255,255,0.12);
    }

    /* Convert button */
    .btn {
      padding:10px 14px;border-radius:10px;
      background: linear-gradient(180deg, rgba(255,184,107,0.18), rgba(255,184,107,0.10));
      border:1px solid rgba(255,184,107,0.18);
      color:var(--text);
      font-weight:600;
      cursor:pointer;
    }
    .btn:active{transform:translateY(1px)}

    /* Right panel - animated temperature scene */
    .visual{
      position:relative;
      padding:26px;
      display:flex;
      flex-direction:column;
      gap:14px;
    }

    .meter{
      display:flex;
      gap:14px;
      align-items:center;
      justify-content:space-between;
    }
    .temp-display{
      font-size:54px;
      font-weight:700;
      letter-spacing:-1px;
    }
    .feel{
      font-size:14px;
      color:rgba(255,255,255,0.85);
    }

    /* Animated background layers */
    .bg{
      position:absolute;
      inset:0;
      z-index:0;
      pointer-events:none;
    }
    .gradient {
      position:absolute; inset:-10%;
      background: radial-gradient(circle at 10% 20%, rgba(255,160,80,0.12), transparent 8%),
                  radial-gradient(circle at 80% 80%, rgba(90,200,255,0.06), transparent 15%),
                  linear-gradient(180deg, rgba(10,20,40,0.6), rgba(4,7,15,0.8));
      transition: background 600ms ease;
      mix-blend-mode: screen;
      filter:blur(40px) saturate(110%);
      transform:scale(1.12);
    }

    /* Particles layer */
    .particles {position:absolute; inset:0; overflow:hidden; pointer-events:none;}
    .particle{
      position:absolute;
      width:12px;height:12px;border-radius:50%;
      background:rgba(255,255,255,0.06);
      transform:translate3d(0,0,0);
      animation: drift 16s linear infinite;
      opacity:0.9;
      box-shadow: 0 6px 18px rgba(0,0,0,0.35);
    }
    @keyframes drift{
      0% { transform:translateY(-10%) translateX(0) scale(1); }
      50% { transform:translateY(60vh) translateX(40px) scale(0.8); }
      100% { transform:translateY(120vh) translateX(-30px) scale(0.6); }
    }

    /* Icon / scene center */
    .scene-visual{
      z-index:1;
      display:flex;
      gap:18px;
      align-items:center;
      justify-content:center;
      flex:1;
    }
    .icon-wrap{
      width:220px;
      height:220px;
      border-radius:40px;
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow: 0 6px 30px rgba(0,0,0,0.45), inset 0 -6px 12px rgba(0,0,0,0.16);
    }

    svg { width:140px; height:140px; display:block; }

    /* Feel text / tips */
    .tip{
      font-size:13px;
      color:rgba(255,255,255,0.8);
      background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
      padding:10px;border-radius:10px;
      border:1px solid rgba(255,255,255,0.03);
    }

    /* Responsive */
    @media (max-width:900px){
      .scene{grid-template-columns:1fr; height:84vh}
      .card{border-right:0;border-bottom:1px solid rgba(255,255,255,0.03)}
      .icon-wrap{width:160px;height:160px}
      .temp-display{font-size:44px}
    }

    /* Temperature-themed variants via data attribute on .scene */
    /* cold */
    .scene[data-mode="cold"]{
      --bg1: #041328;
      --bg2: #07203a;
      --accent: #6ad6ff;
    }
    .scene[data-mode="cold"] .gradient{
      background: radial-gradient(circle at 12% 18%, rgba(110,200,255,0.14), transparent 6%),
                  radial-gradient(circle at 86% 78%, rgba(200,240,255,0.05), transparent 12%),
                  linear-gradient(180deg, rgba(2,16,34,0.72), rgba(3,12,22,0.9));
    }
    .scene[data-mode="hot"]{
      --bg1: #340a05;
      --bg2: #3d0f07;
      --accent: #ffb86b;
    }
    .scene[data-mode="hot"] .gradient{
      background: radial-gradient(circle at 20% 30%, rgba(255,140,60,0.14), transparent 6%),
                  radial-gradient(circle at 78% 75%, rgba(255,200,120,0.05), transparent 12%),
                  linear-gradient(180deg, rgba(35,6,2,0.72), rgba(42,8,3,0.9));
    }
    .scene[data-mode="mild"]{
      --bg1: #0b2430;
      --bg2: #12384a;
      --accent: #86ffb8;
    }
    .scene[data-mode="mild"] .gradient{
      background: radial-gradient(circle at 18% 22%, rgba(120,255,200,0.08), transparent 8%),
                  radial-gradient(circle at 78% 80%, rgba(120,200,255,0.04), transparent 12%),
                  linear-gradient(180deg, rgba(6,20,28,0.7), rgba(7,22,34,0.9));
    }

  </style>
</head>
<body>
  <div class="scene" id="scene" data-mode="mild" role="application" aria-label="Animated temperature converter">
    <div class="card" aria-hidden="false">
      <div>
        <h1>üå°Ô∏è Temperature Converter</h1>
        <div class="sub">Convert between Celsius, Fahrenheit and Kelvin ‚Äî watch the background change to match the feeling.</div>
      </div>

      <div class="inputs" id="inputs">
        <div class="row">
          <div class="field">
            <label for="tempInput">Temperature value</label>
            <input id="tempInput" type="number" inputmode="decimal" step="any" value="25" aria-label="Temperature value">
          </div>

          <div class="field" style="max-width:120px">
            <label for="unitInput">Unit</label>
            <select id="unitInput" aria-label="From unit">
              <option value="C">Celsius (¬∞C)</option>
              <option value="F">Fahrenheit (¬∞F)</option>
              <option value="K">Kelvin (K)</option>
            </select>
          </div>
        </div>

        <div class="row">
          <div class="field">
            <label for="result">Converted (auto)</label>
            <input id="result" type="text" readonly aria-readonly="true" value="77 ¬∞F / 298.15 K">
          </div>

          <div class="field" style="max-width:120px">
            <label for="precision">Precision</label>
            <select id="precision" aria-label="Precision">
              <option value="0">0</option>
              <option value="1" selected>1</option>
              <option value="2">2</option>
              <option value="3">3</option>
            </select>
          </div>
        </div>

        <div class="controls">
          <div class="thermo-wrap" style="flex:1">
            <label for="slider" style="min-width:64px;font-size:12px;color:rgba(255,255,255,0.78)">Slider</label>
            <input id="slider" class="slider" type="range" min="-50" max="60" step="0.1" value="25" aria-label="Temperature slider">
          </div>

          <button id="swap" class="btn" title="Swap to and from unit">Swap ‚Üî</button>
        </div>
      </div>

      <div style="margin-top:auto; display:flex; gap:10px; align-items:center; justify-content:space-between">
        <div style="display:flex; flex-direction:column">
          <div style="font-size:12px;color:rgba(255,255,255,0.6)">Feeling</div>
          <div id="feeling" class="feel">Warm</div>
        </div>
        <div style="display:flex;gap:8px">
          <button id="copyBtn" class="btn" title="Copy result">Copy</button>
          <button id="reset" class="btn" title="Reset defaults">Reset</button>
        </div>
      </div>

    </div>

    <div class="visual" aria-hidden="false">
      <div class="bg" aria-hidden="true">
        <div class="gradient" id="gradient"></div>
        <div class="particles" id="particles" aria-hidden="true"></div>
      </div>

      <div class="scene-visual" role="img" aria-label="Temperature visual">
        <div class="icon-wrap" id="iconWrap">
          <!-- SVG icons will be injected/changed by JS -->
          <svg viewBox="0 0 64 64" id="iconSVG" aria-hidden="true">
            <!-- default sun/cloud -->
            <g id="iconGroup"></g>
          </svg>
        </div>

        <div style="flex:1; display:flex;flex-direction:column; gap:8px; align-items:flex-start">
          <div style="display:flex; gap:12px; align-items:center;">
            <div class="temp-display" id="tempLarge">25¬∞</div>
            <div style="display:flex;flex-direction:column;gap:6px">
              <div class="sub">Equivalent</div>
              <div id="equivalents" style="font-weight:600">77 ¬∞F ‚Ä¢ 298.15 K</div>
            </div>
          </div>

          <div class="tip" id="tip">It's warm ‚Äî maybe wear light clothes and stay hydrated.</div>
        </div>
      </div>
    </div>
  </div>

<script>
(function(){
  // Elements
  const scene = document.getElementById('scene');
  const tempInput = document.getElementById('tempInput');
  const unitInput = document.getElementById('unitInput');
  const resultEl = document.getElementById('result');
  const precisionEl = document.getElementById('precision');
  const slider = document.getElementById('slider');
  const tempLarge = document.getElementById('tempLarge');
  const equivalents = document.getElementById('equivalents');
  const feeling = document.getElementById('feeling');
  const tip = document.getElementById('tip');
  const iconGroup = document.getElementById('iconGroup');
  const particlesContainer = document.getElementById('particles');
  const copyBtn = document.getElementById('copyBtn');
  const resetBtn = document.getElementById('reset');
  const swapBtn = document.getElementById('swap');

  // Utility: clamp
  const clamp = (v,a,b) => Math.max(a,Math.min(b,v));

  // Conversion functions
  function toCelsius(value, unit){
    value = Number(value);
    switch(unit){
      case 'C': return value;
      case 'F': return (value - 32) * (5/9);
      case 'K': return value - 273.15;
      default: return value;
    }
  }
  function fromCelsius(c, toUnit){
    switch(toUnit){
      case 'C': return c;
      case 'F': return (c * 9/5) + 32;
      case 'K': return c + 273.15;
      default: return c;
    }
  }

  // Format with precision
  function fmt(n, p){
    return Number.isFinite(n) ? Number(parseFloat(n).toFixed(p)) : n;
  }

  // Feeling categories and tips by Celsius
  function feelingForC(c){
    if(c <= 0) return {mode:'cold', label:'Freezing', tip:"Extremely cold ‚Äî wear heavy layers and protect exposed skin."};
    if(c <= 10) return {mode:'cold', label:'Chilly', tip:"Chilly weather ‚Äî wear a jacket."};
    if(c <= 20) return {mode:'mild', label:'Cool', tip:"Cool and pleasant ‚Äî a light jacket is enough."};
    if(c <= 28) return {mode:'mild', label:'Warm', tip:"Warm ‚Äî comfortable; light clothing recommended."};
    if(c <= 35) return {mode:'hot', label:'Hot', tip:"Hot ‚Äî stay hydrated and avoid direct sun."};
    return {mode:'hot', label:'Very hot', tip:"Very hot ‚Äî keep cool, avoid strenuous work outside."};
  }

  // Update UI based on current input
  function updateAll(fromSlider=false){
    const p = parseInt(precisionEl.value,10);
    const valRaw = Number(tempInput.value);
    let unit = unitInput.value;

    // Sync slider when user typed
    if(!fromSlider){
      if(!Number.isFinite(valRaw)) {
        // do nothing if invalid
      } else {
        // Constrain slider range visually: slider is -50..60 (C-like baseline)
        // Convert input to Celsius then map to slider if unit isn't Celsius
        const c = toCelsius(valRaw, unit);
        const sliderVal = clamp(c, -50, 60);
        slider.value = sliderVal;
      }
    }

    // Determine Celsius
    const celsius = toCelsius(valRaw, unit);

    // Prepare converted strings
    const f = fromCelsius(celsius, 'F');
    const k = fromCelsius(celsius, 'K');

    const fStr = fmt(f,p) + ' ¬∞F';
    const kStr = fmt(k,p) + ' K';
    const cStr = fmt(celsius,p) + ' ¬∞C';

    resultEl.value = `${cStr} ‚Ä¢ ${fStr} ‚Ä¢ ${kStr}`;
    tempLarge.textContent = `${fmt(valRaw,p)}¬∞`;
    equivalents.textContent = `${fStr} ‚Ä¢ ${kStr}`;

    // Update feeling and scene
    const feel = feelingForC(celsius);
    scene.setAttribute('data-mode', feel.mode);
    feeling.textContent = feel.label;
    tip.textContent = feel.tip;

    // Update small visual accent: change gradient intensity by celsius
    const g = document.getElementById('gradient');
    // compute a warm->cold value 0..1
    const t = clamp((celsius + 30) / 70, 0,1);
    // set CSS filter saturation or blur subtlety if wanted (we handle with data-mode)
    g.style.opacity = 0.98;
    // adjust icon
    setIconByMode(feel.mode, celsius);
  }

  // Slider interaction: slider represents Celsius (-50..60)
  slider.addEventListener('input', (e)=>{
    const c = Number(e.target.value);
    // Convert slider (celsius) into the currently selected unit for input display
    const curUnit = unitInput.value;
    const displayVal = fromCelsius(c, curUnit);
    // Round sensibly for slider movement
    tempInput.value = parseFloat(displayVal.toFixed(1));
    updateAll(true);
  });

  // Inputs
  tempInput.addEventListener('input', ()=> updateAll(false));
  unitInput.addEventListener('change', ()=> updateAll(false));
  precisionEl.addEventListener('change', ()=> updateAll(false));

  // Buttons
  copyBtn.addEventListener('click', ()=>{
    navigator.clipboard?.writeText(resultEl.value).then(()=> {
      copyBtn.textContent = 'Copied ‚úì';
      setTimeout(()=> copyBtn.textContent = 'Copy', 1200);
    }).catch(()=> {
      copyBtn.textContent = 'Failed';
      setTimeout(()=> copyBtn.textContent = 'Copy', 1200);
    });
  });

  resetBtn.addEventListener('click', ()=>{
    tempInput.value = 25;
    unitInput.value = 'C';
    precisionEl.value = '1';
    slider.value = 25;
    updateAll(false);
  });

  swapBtn.addEventListener('click', ()=>{
    // swap the current input unit to convert the displayed value to the other unit
    // We'll swap between Celsius <-> Fahrenheit; Kelvin rotates through
    const curUnit = unitInput.value;
    if(curUnit === 'C') unitInput.value = 'F';
    else if(curUnit === 'F') unitInput.value = 'K';
    else unitInput.value = 'C';
    // Convert the displayed number to the new unit so value remains same physical temp
    const currentTemp = Number(tempInput.value);
    const c = toCelsius(currentTemp, curUnit);
    tempInput.value = fmt(fromCelsius(c, unitInput.value), 1);
    updateAll(false);
  });

  // Icons: draw SVGs inside iconGroup
  function setIconByMode(mode, celsius){
    // Clear
    iconGroup.innerHTML = '';
    if(mode === 'cold'){
      // Snowflake + moon
      iconGroup.innerHTML = `
        <g transform="translate(6,6) scale(0.9)">
          <g id="snow">
            <circle cx="26" cy="18" r="6" fill="#dff6ff" opacity="0.98"></circle>
            <g stroke="#bfeaff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" transform="translate(26,18)">
              <path d="M0 -10 L0 10" />
              <path d="M-9 -6 L9 6" />
              <path d="M-9 6 L9 -6" />
              <path d="M-10 0 L10 0" />
            </g>
          </g>
        </g>`;
      spawnParticles('snow', Math.round(clamp(10 + (15 - celsius), 6, 30)));
    } else if(mode === 'hot'){
      // Sun + heat waves
      iconGroup.innerHTML = `
        <g transform="translate(6,6) scale(0.9)">
          <g id="sun">
            <circle cx="26" cy="18" r="10" fill="#ffd36b" stroke="#ffb86b" stroke-width="2"></circle>
            <g stroke="#ffb86b" stroke-width="2" stroke-linecap="round">
              <path d="M26 0 L26 8" />
              <path d="M26 28 L26 36" />
              <path d="M10 18 L18 18" />
              <path d="M34 18 L42 18" />
              <path d="M12 6 L18 12" />
              <path d="M34 24 L40 30" />
              <path d="M12 30 L18 24" />
              <path d="M34 12 L40 6" />
            </g>
          </g>
        </g>`;
      spawnParticles('spark', Math.round(clamp(6 + celsius/2, 6, 30)));
    } else {
      // Mild: sun behind cloud
      iconGroup.innerHTML = `
        <g transform="translate(6,6) scale(0.9)">
          <g id="cloud" transform="translate(4,8)">
            <ellipse cx="26" cy="18" rx="14" ry="10" fill="#dfeeff" opacity="0.95"></ellipse>
            <ellipse cx="16" cy="20" rx="10" ry="7" fill="#eaf6ff" opacity="0.95"></ellipse>
            <rect x="6" y="20" width="34" height="8" rx="6" fill="#eef8ff" opacity="0.96"></rect>
            <circle cx="40" cy="6" r="8" fill="#ffd36b" opacity="0.92"></circle>
          </g>
        </g>`;
      spawnParticles('soft', 12);
    }
  }

  // Particle factory: creates n particle nodes with different styles depending on type
  function spawnParticles(type, n){
    // Clear old
    particlesContainer.innerHTML = '';
    const frag = document.createDocumentFragment();
    const width = particlesContainer.clientWidth || window.innerWidth;
    const height = particlesContainer.clientHeight || window.innerHeight;
    for(let i=0;i<n;i++){
      const p = document.createElement('div');
      p.className = 'particle';
      // style by type
      if(type === 'snow'){
        p.style.background = 'linear-gradient(180deg, rgba(255,255,255,0.95), rgba(200,235,255,0.85))';
        p.style.width = p.style.height = (6 + Math.random()*10) + 'px';
        p.style.borderRadius = '50%';
      } else if(type === 'spark'){
        p.style.background = 'radial-gradient(circle at 30% 30%, rgba(255,230,160,1), rgba(255,160,60,0.9))';
        p.style.width = (6 + Math.random()*12) + 'px';
        p.style.height = (6 + Math.random()*12) + 'px';
      } else { // soft
        p.style.background = 'rgba(255,255,255,0.06)';
        p.style.width = (8 + Math.random()*16) + 'px';
        p.style.height = (8 + Math.random()*16) + 'px';
      }
      // random positions
      p.style.left = Math.random()*100 + '%';
      p.style.top = (-10 + Math.random()*20) + '%'; // starts near top
      // animation duration & delay
      const dur = 12 + Math.random()*12;
      p.style.animationDuration = dur + 's';
      p.style.animationDelay = (-Math.random()*8) + 's';
      // random opacity
      p.style.opacity = 0.3 + Math.random()*0.8;
      frag.appendChild(p);
    }
    particlesContainer.appendChild(frag);
  }

  // Initialize particles and UI
  setIconByMode('mild', 25);
  spawnParticles('soft', 12);
  updateAll(false);

  // Make input & slider sync on focus/keyboard interactions
  tempInput.addEventListener('keydown', (e)=>{
    if(e.key === 'Enter') updateAll(false);
  });

  // Ensure scene resizes particles on window resize
  window.addEventListener('resize', ()=> {
    // respawn same type to proportionally fill
    const curMode = scene.getAttribute('data-mode') || 'mild';
    const c = Number(toCelsius(Number(tempInput.value)||25, unitInput.value));
    if(curMode === 'cold') spawnParticles('snow', Math.round(clamp(10 + (15 - c), 6, 30)));
    else if(curMode === 'hot') spawnParticles('spark', Math.round(clamp(6 + c/2, 6, 30)));
    else spawnParticles('soft', 12);
  });

  // Accessibility: keyboard shortcuts
  window.addEventListener('keydown', (e)=>{
    if((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === 'k'){
      e.preventDefault();
      tempInput.focus();
      tempInput.select();
    }
    if(e.key === 'ArrowUp'){ // increase value slightly
      tempInput.value = Number(tempInput.value || 0) + 0.5;
      updateAll(false);
    }
    if(e.key === 'ArrowDown'){
      tempInput.value = Number(tempInput.value || 0) - 0.5;
      updateAll(false);
    }
  });

  // Initial sync to slider if unit not celsius
  (function initialSync(){
    const curUnit = unitInput.value;
    const val = Number(tempInput.value);
    const c = toCelsius(val, curUnit);
    slider.value = clamp(c, -50,60);
    updateAll(false);
  })();

})();
</script>
